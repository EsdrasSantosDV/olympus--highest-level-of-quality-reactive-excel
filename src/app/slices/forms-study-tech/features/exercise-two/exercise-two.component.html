<div class="exercise-description">
  <h2>Descrição do Exercício 2</h2>
  <p>
    Neste exercício, você criará um formulário de cadastro de produto utilizando Template-Driven Forms no Angular.
    O objetivo é capturar as informações básicas sobre o produto e validar os dados inseridos. O formulário possui dois campos principais:
    "Preço" e "Desconto". Vamos implementar validações para garantir que o "Preço" seja um valor positivo e que o "Desconto" não seja maior que o "Preço" do produto.
  </p>

  <h3>Objetivos do Exercício:</h3>
  <ul>
    <li><strong>Criar o Formulário de Cadastro de Produto:</strong></li>
    <ul>
      <li>O formulário deve ter dois campos obrigatórios:</li>
      <li><strong>Preço (price):</strong> Campo numérico que deve aceitar apenas valores positivos.</li>
      <li><strong>Desconto (discount):</strong> Campo numérico que deve ser menor ou igual ao valor do campo "Preço".</li>
    </ul>
    <li><strong>Validações Implementadas:</strong></li>
    <ul>
      <li>Validador de Campo: Garante que o campo "Preço" seja sempre um valor positivo.</li>
      <li>Validador de Grupo: Garante que o valor do "Desconto" não seja maior que o valor do "Preço".</li>
    </ul>
    <li><strong>Exibição de Mensagens de Erro:</strong></li>
    <ul>
      <li>Se o preço for inválido (não positivo), uma mensagem de erro será exibida.</li>
      <li>Se o desconto for maior que o preço, uma mensagem de erro será exibida.</li>
    </ul>
    <li><strong>Submissão do Formulário:</strong></li>
    <ul>
      <li>O botão de submissão deve estar desativado até que o formulário seja considerado válido.</li>
      <li>Ao submeter o formulário com sucesso, os dados do produto devem ser processados (por exemplo, exibidos no console ou enviados a um serviço).</li>
    </ul>
  </ul>

  <h3>Campos do Formulário:</h3>
  <ul>
    <li><strong>Preço (price):</strong> Campo obrigatório, numérico e deve ser um valor positivo.</li>
    <li><strong>Desconto (discount):</strong> Campo obrigatório, numérico e deve ser menor ou igual ao "Preço".</li>
  </ul>

  <h3>Regras de Validação:</h3>
  <ul>
    <li>O "Preço" deve ser um número positivo.</li>
    <li>O "Desconto" deve ser um número menor ou igual ao valor do "Preço".</li>
    <li>Se o "Preço" for inválido ou o "Desconto" for maior que o "Preço", o formulário será considerado inválido.</li>
  </ul>

  <h3>Exemplo de Comportamento:</h3>
  <ul>
    <li>Ao digitar um preço negativo ou zero, uma mensagem "O preço deve ser um valor positivo" será exibida.</li>
    <li>Ao digitar um desconto maior que o preço, uma mensagem "O desconto não pode ser maior que o preço do produto" será exibida.</li>
    <li>O formulário só poderá ser enviado quando ambos os campos forem válidos.</li>
  </ul>
</div>


<h2>Cadastro de Conta</h2>

<form #accountForm="ngForm" (ngSubmit)="onSubmit(accountForm)">
  <div class="form-group">
    <label for="username">Nome de Usuário:</label>
    <input type="text" id="username" name="username" [(ngModel)]="username" uniqueUsername required>
    <div *ngIf="accountForm.controls['username']?.errors?.['usernameTaken']" class="error-message">
      Este nome de usuário já está em uso.
    </div>
  </div>

  <div ngModelGroup="passwords" matchPassword>
    <div class="form-group">
      <label for="password">Senha:</label>
      <input type="password" id="password" name="password"  [(ngModel)]="password" required>
    </div>

    <div class="form-group">
      <label for="confirmPassword">Confirmar Senha:</label>
      <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword" required>
    </div>

    <div *ngIf="accountForm.controls['passwords']?.errors?.['passwordMismatch']" class="error-message">
      As senhas não coincidem.
    </div>
  </div>

  <button type="submit" [disabled]="accountForm.invalid">Cadastrar</button>
</form>
